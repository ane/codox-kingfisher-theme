<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>task.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" type="text/css" href="css/kingfisher.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700|Source+Code+Pro" /></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Task</span> <span class="project-version">0.1.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="01-overview.html"><div class="inner"><span>Overview</span></div></a></li><li class="depth-1 "><a href="02-guide.html"><div class="inner"><span>User Guide</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="task.core.html"><div class="inner"><span>task.core</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="task.core.html#var-cancel"><div class="inner"><span>cancel</span></div></a></li><li class="depth-1"><a href="task.core.html#var-cancelled.3F"><div class="inner"><span>cancelled?</span></div></a></li><li class="depth-1"><a href="task.core.html#var-common-pool"><div class="inner"><span>common-pool</span></div></a></li><li class="depth-1"><a href="task.core.html#var-complete.21"><div class="inner"><span>complete!</span></div></a></li><li class="depth-1"><a href="task.core.html#var-compose"><div class="inner"><span>compose</span></div></a></li><li class="depth-1"><a href="task.core.html#var-done.3F"><div class="inner"><span>done?</span></div></a></li><li class="depth-1"><a href="task.core.html#var-else"><div class="inner"><span>else</span></div></a></li><li class="depth-1"><a href="task.core.html#var-fail.21"><div class="inner"><span>fail!</span></div></a></li><li class="depth-1"><a href="task.core.html#var-failed"><div class="inner"><span>failed</span></div></a></li><li class="depth-1"><a href="task.core.html#var-failed.3F"><div class="inner"><span>failed?</span></div></a></li><li class="depth-1"><a href="task.core.html#var-failure"><div class="inner"><span>failure</span></div></a></li><li class="depth-1"><a href="task.core.html#var-fn-.3Efuture"><div class="inner"><span>fn-&gt;future</span></div></a></li><li class="depth-1"><a href="task.core.html#var-for"><div class="inner"><span>for</span></div></a></li><li class="depth-1"><a href="task.core.html#var-for*"><div class="inner"><span>for*</span></div></a></li><li class="depth-1"><a href="task.core.html#var-for-in"><div class="inner"><span>for-in</span></div></a></li><li class="depth-1"><a href="task.core.html#var-force.21"><div class="inner"><span>force!</span></div></a></li><li class="depth-1"><a href="task.core.html#var-function"><div class="inner"><span>function</span></div></a></li><li class="depth-1"><a href="task.core.html#var-future-.3Etask"><div class="inner"><span>future-&gt;task</span></div></a></li><li class="depth-1"><a href="task.core.html#var-now"><div class="inner"><span>now</span></div></a></li><li class="depth-1"><a href="task.core.html#var-recover"><div class="inner"><span>recover</span></div></a></li><li class="depth-1"><a href="task.core.html#var-run"><div class="inner"><span>run</span></div></a></li><li class="depth-1"><a href="task.core.html#var-run-in"><div class="inner"><span>run-in</span></div></a></li><li class="depth-1"><a href="task.core.html#var-sequence"><div class="inner"><span>sequence</span></div></a></li><li class="depth-1"><a href="task.core.html#var-supplier"><div class="inner"><span>supplier</span></div></a></li><li class="depth-1"><a href="task.core.html#var-Task"><div class="inner"><span>Task</span></div></a></li><li class="depth-2"><a href="task.core.html#var-task-.3Efuture"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>task-&gt;future</span></div></a></li><li class="depth-1"><a href="task.core.html#var-then"><div class="inner"><span>then</span></div></a></li><li class="depth-1"><a href="task.core.html#var-void"><div class="inner"><span>void</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">task.core</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-cancel"><h3>cancel</h3><div class="usage"><code>(cancel task)</code></div><div class="doc"><pre class="plaintext">Attempt to cancel `task`.
</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#117">view source</a></div></div><div class="public anchor" id="var-cancelled.3F"><h3>cancelled?</h3><div class="usage"><code>(cancelled? task)</code></div><div class="doc"><pre class="plaintext">Return true if `task` was cancelled.
</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#151">view source</a></div></div><div class="public anchor" id="var-common-pool"><h3>common-pool</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#80">view source</a></div></div><div class="public anchor" id="var-complete.21"><h3>complete!</h3><div class="usage"><code>(complete! task value)</code></div><div class="doc"><pre class="plaintext">Complete the task with some value if it hasn't completed already.
</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#173">view source</a></div></div><div class="public anchor" id="var-compose"><h3>compose</h3><div class="usage"><code>(compose func)</code><code>(compose func task)</code><code>(compose func task executor)</code></div><div class="doc"><pre class="plaintext">Chain two tasks together. Applies `func`, which is a function returning a task,
to the result of `task`. This returns a new task.

compose is useful when the function that you want to apply on the task returns a new task.
This would result in a task inside a task, so you would need to double deref it. So, `compose`
solves this for you.

With one argument, create a function that accepts a task. With two args, apply `func` to
`task` directly.

Should be used when the function to [[then]] returns a task, which would
otherwise result in a task inside a task. Given an executor, use that.</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#97">view source</a></div></div><div class="public anchor" id="var-done.3F"><h3>done?</h3><div class="usage"><code>(done? task)</code></div><div class="doc"><pre class="plaintext">Has the task completed in any fashion?
</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#60">view source</a></div></div><div class="public anchor" id="var-else"><h3>else</h3><div class="usage"><code>(else task value)</code></div><div class="doc"><pre class="plaintext">Get the value of `task` if it's complete, otherwise return
`value`.</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#197">view source</a></div></div><div class="public anchor" id="var-fail.21"><h3>fail!</h3><div class="usage"><code>(fail! task t)</code></div><div class="doc"><pre class="plaintext">Force the value of task to fail with `t` whether or not already completed.
</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#202">view source</a></div></div><div class="public anchor" id="var-failed"><h3>failed</h3><div class="usage"><code>(failed t)</code></div><div class="doc"><pre class="plaintext">Create a new task that fails with `t`.
</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#178">view source</a></div></div><div class="public anchor" id="var-failed.3F"><h3>failed?</h3><div class="usage"><code>(failed? task)</code></div><div class="doc"><pre class="plaintext">Did the task complete with an exception of any kind?
</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#185">view source</a></div></div><div class="public anchor" id="var-failure"><h3>failure</h3><div class="usage"><code>(failure task)</code></div><div class="doc"><pre class="plaintext">Get the exception with which the task completed exceptionally, if any.
</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#190">view source</a></div></div><div class="public anchor" id="var-fn-.3Efuture"><h3>fn-&gt;future</h3><div class="usage"><code>(fn-&gt;future func &amp; [executor])</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#42">view source</a></div></div><div class="public anchor" id="var-for"><h3>for</h3><h4 class="type">macro</h4><div class="usage"><code>(for bindings &amp; body)</code></div><div class="doc"><pre class="plaintext">Chain multiple tasks together. Returns a new task that evaluates when all the
tasks are ready together. The task evaluates to `body`.</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#122">view source</a></div></div><div class="public anchor" id="var-for*"><h3>for*</h3><h4 class="type">macro</h4><div class="usage"><code>(for* executor bindings &amp; body)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#134">view source</a></div></div><div class="public anchor" id="var-for-in"><h3>for-in</h3><h4 class="type">macro</h4><div class="usage"><code>(for-in executor bindings &amp; body)</code></div><div class="doc"><pre class="plaintext">Chain multiple tasks together. Returns a new task that evaluates when all the
tasks are ready together. The task evaluates to `body`. Uses the `executor` executor.</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#128">view source</a></div></div><div class="public anchor" id="var-force.21"><h3>force!</h3><div class="usage"><code>(force! task value)</code></div><div class="doc"><pre class="plaintext">Force the value of task to return `value` whether or not already completed.
</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#207">view source</a></div></div><div class="public anchor" id="var-function"><h3>function</h3><div class="usage"><code>(function func)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#33">view source</a></div></div><div class="public anchor" id="var-future-.3Etask"><h3>future-&gt;task</h3><div class="usage"><code>(future-&gt;task fut)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#8">view source</a></div></div><div class="public anchor" id="var-now"><h3>now</h3><div class="usage"><code>(now value)</code></div><div class="doc"><pre class="plaintext">Create a task that completes immediately with `value`.
</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#55">view source</a></div></div><div class="public anchor" id="var-recover"><h3>recover</h3><div class="usage"><code>(recover task func)</code></div><div class="doc"><pre class="plaintext">Recover possible failures in `task`. Returns a new task. This task evaluates to
two possible values:

* If the task completes with an exception, this exception is passed to `func`, and the task
evaluates to its result.
* If the task completes normally, the task will evaluate to that result.</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#212">view source</a></div></div><div class="public anchor" id="var-run"><h3>run</h3><h4 class="type">macro</h4><div class="usage"><code>(run &amp; body)</code></div><div class="doc"><pre class="plaintext">Execute `body` inside the default [[java.util.concurrent.ForkJoinPool ForkJoinPool]]
executor.</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#46">view source</a></div></div><div class="public anchor" id="var-run-in"><h3>run-in</h3><h4 class="type">macro</h4><div class="usage"><code>(run-in executor &amp; body)</code></div><div class="doc"><pre class="plaintext">Execute `body` inside the supplied [[java.util.concurrent.ExecutorService ExecutorService]].
</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#51">view source</a></div></div><div class="public anchor" id="var-sequence"><h3>sequence</h3><div class="usage"><code>(sequence tasks)</code></div><div class="doc"><pre class="plaintext">Turn a sequence of tasks into a task of a sequence. Returns a new task returning a vector
of all the results of each task. The task evaluates when all the tasks evaluate.</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#162">view source</a></div></div><div class="public anchor" id="var-supplier"><h3>supplier</h3><div class="usage"><code>(supplier func)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#28">view source</a></div></div><div class="public anchor" id="var-Task"><h3>Task</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-task-.3Efuture"><h3>task-&gt;future</h3><div class="usage"><code>(task-&gt;future this)</code></div><div class="doc"><pre class="plaintext">convert self into CompletableFuture
</pre></div></div></div></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#5">view source</a></div></div><div class="public anchor" id="var-then"><h3>then</h3><div class="usage"><code>(then func)</code><code>(then func task)</code><code>(then func task executor)</code></div><div class="doc"><pre class="plaintext">Apply a function to the result of `task`. Returns a new task.

With one argument, creates a function that accepts a task, and applies `func` on that task.

With two arguments, applies `func` to `task`.

Optionally, with a third argument `executor`, run the task in
that [[java.util.concurrent.ExecutorService ExecutorService]].</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#82">view source</a></div></div><div class="public anchor" id="var-void"><h3>void</h3><div class="usage"><code>(void)</code></div><div class="doc"><pre class="plaintext">Create an incomplete task with nothing in it.
</pre></div><div class="src-link"><a href="https://github.com/ane/task/blob/master/src/main/clj/task/core.clj#157">view source</a></div></div></div></body></html>